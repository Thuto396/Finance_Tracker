{% extends "base.html" %}
{% block content %}
<h2>Dashboard</h2>
<p><strong>Balance:</strong> R{{ balance }}</p>
<p>Income: R{{ income }} | Expense: R{{ expense }}</p>

<h3>Transactions</h3>
<ul>
    {% if transactions %}
    <table>
        <tr>
            <th>Date</th>
            <th>Type</th>
            <th>Category</th>
            <th>Amount</th>
        </tr>
    
        {% for t in transactions %}
        <tr>
            <td>{{ t.date }}</td>
            <td>{{ t.type }}</td>
            <td>{{ t.category }}</td>
            <td class="{{ t.type }}">{{ t.amount }}</td>
            <td style="text-align: center;">
                <form method="POST" action="/delete/{{ loop.index0 }}" onsubmit="return confirmDelete()">
                    <button type="submit" class="delete-btn" title="Delete Transaction">ğŸ—‘ï¸</button>
                </form>         </td>
        </tr>
        {% endfor %}
    </table>
    {% else %}
    <p style="text-align: center; font-style: italic; color: #6c757d;">
        ğŸ“ No transactions yet. Start by adding one!
    </p>
    {% endif %}
  
</ul>
{% endblock %}